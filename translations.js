// Translations for Landing Page
const translations = {
    en: {
        app: {
            name: "AhKyaway Mhat"
        },
        nav: {
            home: "Home",
            about: "About",
            download: "Download"
        },
        hero: {
            badge: "For Small Businesses",
            title: "Track Debts, <br><span class=\"gradient-text\">Simplify Life</span>",
            description: "AhKyaway Mhat is a beautifully designed debt tracking app perfect for small shopkeepers, community lending groups, and anyone who needs to manage debts efficiently.",
            feature1: "Dashboard & Analytics",
            feature2: "Customer Management",
            feature3: "Debt Tracking",
            feature4: "Dark & Light Themes",
            download: "Download Now",
            github: "View on GitHub",
            scroll: "Scroll to explore"
        },
        screenshots: {
            title: "App Screenshots",
            subtitle: "Explore the beautiful interface designed for clarity and ease of use",
            hint: "â† Drag or swipe to explore â†’"
        },
        download: {
            title: "Ready to Get Started?",
            description: "Download AhKyaway Mhat now and take control of your debt tracking. Available for Android, Windows, macOS, Linux, and Web.",
            button: "Download from GitHub"
        },
        footer: {
            made: "Made with â¤ï¸ using Flutter",
            copyright: "Â© 2025 AhKyaway Mhat."
        }
    },
    my: {
        app: {
            name: "á€¡á€€á€¼á€½á€±á€¸á€™á€¾á€á€º"
        },
        nav: {
            home: "á€•á€„á€ºá€™",
            about: "á€¡á€€á€¼á€±á€¬á€„á€ºá€¸",
            download: "á€’á€±á€«á€„á€ºá€¸á€œá€¯á€’á€º"
        },
        hero: {
            badge: "á€…á€®á€¸á€•á€½á€¬á€¸á€›á€±á€¸á€œá€¯á€•á€ºá€„á€”á€ºá€¸á€„á€šá€ºá€™á€»á€¬á€¸á€¡á€á€½á€€á€º",
            title: "á€¡á€€á€¼á€½á€±á€¸á€™á€»á€¬á€¸á€€á€­á€¯ <br><span class=\"gradient-text\">á€œá€½á€šá€ºá€€á€°á€…á€½á€¬ á€™á€¾á€á€ºá€•á€«</span>",
            description: "á€¡á€€á€¼á€½á€±á€¸á€™á€¾á€á€ºá€á€Šá€º á€†á€­á€¯á€„á€ºá€„á€šá€ºá€œá€±á€¸á€™á€»á€¬á€¸áŠ á€›á€•á€ºá€€á€½á€€á€ºá€á€»á€±á€¸á€„á€½á€±á€¡á€–á€½á€²á€·á€™á€»á€¬á€¸á€”á€¾á€„á€·á€º á€¡á€€á€¼á€½á€±á€¸á€™á€»á€¬á€¸á€€á€­á€¯ á€‘á€­á€›á€±á€¬á€€á€ºá€…á€½á€¬ á€…á€®á€™á€¶á€á€”á€·á€ºá€á€½á€²á€œá€­á€¯á€á€°á€á€­á€¯á€„á€ºá€¸á€¡á€á€½á€€á€º á€œá€¾á€•á€…á€½á€¬ á€’á€®á€‡á€­á€¯á€„á€ºá€¸á€‘á€¯á€á€ºá€‘á€¬á€¸á€á€±á€¬ á€¡á€€á€ºá€•á€ºá€á€…á€ºá€á€¯á€–á€¼á€…á€ºá€•á€«á€á€Šá€ºá‹",
            feature1: "Dashboard á€”á€¾á€„á€·á€º á€…á€¬á€›á€„á€ºá€¸á€¡á€„á€ºá€¸",
            feature2: "á€–á€±á€¬á€€á€ºá€á€Šá€º á€…á€®á€™á€¶á€á€”á€·á€ºá€á€½á€²á€™á€¾á€¯",
            feature3: "á€¡á€€á€¼á€½á€±á€¸ á€á€¼á€±á€›á€¬á€á€¶á€á€¼á€„á€ºá€¸",
            feature4: "á€¡á€™á€¾á€±á€¬á€„á€º/á€¡á€œá€„á€ºá€¸ Theme",
            download: "á€šá€á€¯á€•á€² á€’á€±á€«á€„á€ºá€¸á€œá€¯á€’á€ºá€œá€¯á€•á€ºá€•á€«",
            github: "GitHub á€á€½á€„á€º á€€á€¼á€Šá€·á€ºá€›á€”á€º",
            scroll: "á€†á€½á€²á€á€»á€•á€¼á€®á€¸ á€œá€±á€·á€œá€¬á€•á€«"
        },
        screenshots: {
            title: "App á€•á€¯á€¶á€™á€»á€¬á€¸",
            subtitle: "á€›á€¾á€„á€ºá€¸á€œá€„á€ºá€¸á€•á€¼á€®á€¸ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€›á€œá€½á€šá€ºá€€á€°á€¡á€±á€¬á€„á€º á€’á€®á€‡á€­á€¯á€„á€ºá€¸á€‘á€¯á€á€ºá€‘á€¬á€¸á€á€±á€¬ á€œá€¾á€•á€á€±á€¬ interface á€€á€­á€¯ á€œá€±á€·á€œá€¬á€•á€«",
            hint: "â† á€†á€½á€²á€–á€­á€¯á€· á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Swipe á€œá€¯á€•á€ºá€•á€« â†’"
        },
        download: {
            title: "á€…á€á€„á€ºá€–á€­á€¯á€· á€¡á€†á€„á€ºá€á€„á€·á€ºá€–á€¼á€…á€ºá€•á€¼á€®á€œá€¬á€¸?",
            description: "á€¡á€€á€¼á€½á€±á€¸á€™á€¾á€á€ºá€€á€­á€¯ á€šá€á€¯á€•á€² á€’á€±á€«á€„á€ºá€¸á€œá€¯á€’á€ºá€œá€¯á€•á€ºá€•á€¼á€®á€¸ á€á€„á€·á€ºá€¡á€€á€¼á€½á€±á€¸á€á€¼á€±á€›á€¬á€á€¶á€™á€¾á€¯á€€á€­á€¯ á€‘á€­á€”á€ºá€¸á€á€»á€¯á€•á€ºá€•á€«á‹ Android, Windows, macOS, Linux á€”á€¾á€„á€·á€º Web á€¡á€á€½á€€á€º á€›á€”á€­á€¯á€„á€ºá€•á€«á€á€Šá€ºá‹",
            button: "GitHub á€™á€¾ á€’á€±á€«á€„á€ºá€¸á€œá€¯á€’á€ºá€œá€¯á€•á€ºá€•á€«"
        },
        footer: {
            made: "Flutter á€–á€¼á€„á€·á€º â¤ï¸ á€”á€²á€· á€–á€”á€ºá€á€®á€¸á€‘á€¬á€¸á€•á€«á€á€Šá€º",
            copyright: "Â© 2025 á€¡á€€á€¼á€½á€±á€¸á€™á€¾á€á€ºá‹"
        }
    }
};

// Get nested value from object using dot notation
function getNestedValue(obj, path) {
    return path.split('.').reduce((current, key) => current?.[key], obj);
}

// Apply translations to page
function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        const translation = getNestedValue(translations[lang], key);
        if (translation) {
            // Check if translation contains HTML
            if (translation.includes('<')) {
                el.innerHTML = translation;
            } else {
                el.textContent = translation;
            }
        }
    });

    // Update lang attribute
    document.documentElement.lang = lang === 'my' ? 'my' : 'en';

    // Update language toggle button with flag
    const langToggle = document.getElementById('lang-toggle');
    if (langToggle) {
        const flagIcon = langToggle.querySelector('.flag-icon');
        if (flagIcon) {
            flagIcon.textContent = lang === 'my' ? 'ğŸ‡²ğŸ‡²' : 'ğŸ‡ºğŸ‡¸';
        }
    }
}

// Initialize language from localStorage
function initLanguage() {
    const savedLang = localStorage.getItem('landing-language') || 'en';
    applyTranslations(savedLang);
    return savedLang;
}

// Toggle language
function toggleLanguage() {
    const currentLang = localStorage.getItem('landing-language') || 'en';
    const newLang = currentLang === 'en' ? 'my' : 'en';
    localStorage.setItem('landing-language', newLang);
    applyTranslations(newLang);
}
